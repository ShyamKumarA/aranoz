<%-include('../layouts/adminHeader.ejs')%>

<!-- Table Start -->
<div class="container-fluid pt-5 px-4">
  <div class="test d-flex justify-content-between align-items-center">
    <h1>Edit Status</h1>
  </div>

  <div class="row pt-4 g-4">
    <div class="col-12">
      <div class="bg-light rounded h-100 p-4">
        <form
          action="/admin/editOrderStatus?id=<%=orderData._id%>"
          method="post"
        >
          <div
            class="px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"
          >
            <label class="block mt-4 text-sm">
              <span class="text-gray-700 dark:text-gray-400"> Status </span>
              <% if(orderData.returnReson && orderData.status != "returned"){%>
              <div class="card-body">
                <h6>Return reason</h6>
                <p><%= orderData.returnReson %></p>

                <a
                  class="btn btn-danger"
                  onclick="cancelReturn('<%=orderData._id %>')"
                  href=""
                  >cancel Return</a
                >
                <a
                  class="btn btn-success"
                  onclick="confirmReturn('<%=orderData._id %>')"
                  href=""
                  >confirm Return</a
                >
              </div>

              <%} %>

              <select
                value="<%=orderData.status%>"
                class="block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-select focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray"
                name="status"
              >
                <option>Placed</option>
                <option>Pending</option>
                <option>Shipped</option>
                <option>Delivered</option>
              </select>
            </label>

            <input
              class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-red-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input"
              type="submit"
              value="Submit"
            />
            <% if(typeof message != 'undefined'){ %>
            <p
              style="
                color: red;
                font-family: Georgia, 'Times New Roman', Times, serif;
              "
            >
              <%=message%>
            </p>
            <% } %>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- Table End -->
</div>
<%-include('../layouts/adminFooter.ejs')%>
